import {
    atom, DefaultValue,











    isRecoilValue, RecoilRoot,
    RecoilValueReadOnly,

    selector,






    useRecoilCallback, useRecoilState,
    useRecoilStateLoadable, useRecoilValue,
    useRecoilValueLoadable,



    useResetRecoilState, useSetRecoilState
} from 'recoil';
// import { atomFamily } from 'recoil/utils';

// DefaultValue
new DefaultValue();

// atom
const myAtom = atom({
    key: 'asds',
    default: 5,
});

// selector
const mySelector1 = selector({
    key: 'asdfasfds',
    get: () => 5,
});

// @ts-expect-error
selector({
    key: 'asdfasfds',
    get: () => '',
}) as RecoilValueReadOnly<boolean>;

const readOnlySelector = selector({
    key: 'asdfasf',
    get: ({ get }) => {
        get(myAtom) + 10;
        get(mySelector1);
        // @ts-expect-error
        get(5); 
    },
});

const writeableSelector = selector({
    key: 'asdfsadfs',
    get: ({ get }) => {
        get(mySelector1) + 10;
    },
    set: ({ get, set, reset }) => {
        get(myAtom);
        set(myAtom, 5);
        reset(myAtom);

        // @ts-expect-error
        set(readOnlySelector, 2); 
        // @ts-expect-error
        reset(readOnlySelector); 
    },
});

// RecoilRoot
RecoilRoot({});
RecoilRoot({
    initializeState: ({ set, setUnvalidatedAtomValues }) => {
        set(myAtom, 5);
        setUnvalidatedAtomValues(new Map());

        // @ts-expect-error
        set(readOnlySelector, 2); 
        // @ts-expect-error
        setUnvalidatedAtomValues({}); 
    },
});

// Hooks
useRecoilValue(myAtom);
useRecoilValue(mySelector1);
useRecoilValue(readOnlySelector);
useRecoilValue(writeableSelector);
// @ts-expect-error
useRecoilValue({}); 

useRecoilValueLoadable(myAtom);
useRecoilValueLoadable(readOnlySelector);
useRecoilValueLoadable(writeableSelector);
// @ts-expect-error
useRecoilValueLoadable({}); 

useRecoilState(myAtom);
useRecoilState(writeableSelector);
// @ts-expect-error
useRecoilState(readOnlySelector); 
// @ts-expect-error
useRecoilState({}); 

useRecoilStateLoadable(myAtom);
useRecoilStateLoadable(writeableSelector);
// @ts-expect-error
useRecoilStateLoadable(readOnlySelector); 
// @ts-expect-error
useRecoilStateLoadable({}); 

useSetRecoilState(myAtom);
useSetRecoilState(writeableSelector);
// @ts-expect-error
useSetRecoilState(readOnlySelector); 
// @ts-expect-error
useSetRecoilState({}); 

useResetRecoilState(myAtom);
useResetRecoilState(writeableSelector);
// @ts-expect-error
useResetRecoilState(readOnlySelector); 
// @ts-expect-error
useResetRecoilState({}); 

useRecoilCallback(async ({ getPromise, getLoadable, set, reset }) => {
    const val: number = await getPromise(mySelector1);
    const loadable = getLoadable(mySelector1);

    loadable.contents;
    loadable.state;

    set(myAtom, 5);
    reset(myAtom);
});

// Other
isRecoilValue(4);
isRecoilValue(myAtom);
isRecoilValue(null);
isRecoilValue(mySelector1);

// UTILS

// atomFamily
// atomFamily({
//     key: 'asdfs',
//     default: (a) => {return ''},
// });
